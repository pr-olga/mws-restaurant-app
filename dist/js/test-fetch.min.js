function fetchRestaurants(){fetch("http://localhost:1337/restaurants").then(e=>e.json()).then(addRestaurants)}function addRestaurants(e){let t=document.getElementById("restaurants-list"),n="";e.map(e=>{n+=`<li>\n        <h2>${e.name}</h2>\n        <p>${e.neighborhood}</p>\n        <p>${e.address}</p>\n        <p>${e.cuisine_type}</p>\n        <a href="./restaurants/${e.id}">View more</a>\n        </li>`}),t.innerHTML=n}function fetchNeighborhoods(){fetch("http://localhost:1337/restaurants").then(e=>e.json()).then(addNeighborhoods)}function addNeighborhoods(e){const t=document.getElementById("neighborhoods-select"),n=e.map((t,n)=>e[n].neighborhood);let a=n.filter((e,t)=>n.indexOf(e)==t);for(c in a){let e=document.createElement("option");e.innerHTML=a[c],e.value=a[c],t.append(e)}}function fetchCuisines(){fetch("http://localhost:1337/restaurants").then(e=>e.json()).then(addCuisines)}function addCuisines(e){const t=document.getElementById("cuisines-select"),n=e.map((t,n)=>e[n].cuisine_type);let a=n.filter((e,t)=>n.indexOf(e)==t);for(c in a){let e=document.createElement("option");e.innerHTML=a[c],e.value=a[c],t.append(e)}}function fetchMarker(){fetch("http://localhost:1337/restaurants").then(e=>e.json()).then(mapMarkerForRestaurant)}function mapMarkerForRestaurant(e){e.map(e=>{const t=new L.marker([e.latlng.lat,e.latlng.lng],{title:e.name,alt:e.name,url:e.id});t.addTo(newMap),t.on("click",e=>{window.location.href=t.options.url})})}document.addEventListener("DOMContentLoaded",e=>{fetchRestaurants(),fetchNeighborhoods(),fetchCuisines(),initMap(),fetchMarker()}),initMap=(()=>{self.newMap=L.map("map",{center:[40.722216,-73.987501],zoom:12,scrollWheelZoom:!1}),L.tileLayer("https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.jpg70?access_token={mapboxToken}",{mapboxToken:"pk.eyJ1IjoicHItb2xnYSIsImEiOiJjaml3MmEzcDcwZjF6M2tvc2dsc2xhcW9jIn0.C3eNrk94kkZnqDbrgN4pow",maxZoom:18,attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',id:"mapbox.streets"}).addTo(newMap)});